import{$ as y,$d as ot,Aa as N,Ac as ae,B as G,Bc as oe,Ca as I,Db as Ve,Dc as le,E as w,Ea as _,Ec as me,F as M,Fc as pe,Mc as de,Nc as Ue,Ob as $e,Oc as Le,Od as Xe,Pa as m,Pd as Ze,Qa as c,Ra as f,Rb as Re,Rc as ce,Sa as qe,Sb as P,Sd as ve,T as Me,Ta as je,Td as $,Ud as et,V as i,Vd as tt,Wa as De,Wd as it,Xd as nt,Yd as rt,Zd as at,_d as R,a as ge,ae as lt,b as ye,be as O,ca as k,ce as mt,da as ke,de as pt,ee as dt,fe as ct,gd as se,ge as st,ha as g,hb as o,hd as Ge,i as K,ib as l,ja as D,jb as Fe,k as S,ka as Be,kc as Z,kd as He,l as Ce,la as F,lc as ee,ma as Pe,oa as Te,oc as te,od as ue,pa as Oe,pc as ze,pd as Ke,q as j,qa as d,qd as We,r as Se,ra as r,rd as V,s as Ee,sa as n,sb as X,sc as ie,sd as Je,ta as v,tb as A,td as Ye,u as W,uc as b,ud as T,vc as ne,vd as Qe,w as Ie,wb as B,wc as re,xa as Y,xb as Ne,y as J,ya as Q,z as we,zb as Ae}from"./chunk-EEQHWC23.js";var E=(()=>{class t{http;jsonPath="/Resources/Projects/Inventory/Json/items.json";itemsSubject=new K(null);item$=this.itemsSubject.asObservable().pipe(Ee(1));constructor(e){this.http=e}loadItems(){return this.itemsSubject.value||this.http.get(this.jsonPath).subscribe(e=>{this.itemsSubject.next(e)}),this.item$.pipe(S(e=>e??[]))}getAll(){return this.loadItems()}getById(e){return this.loadItems().pipe(S(p=>p.find(a=>a.id===e)))}create(e){let p=ye(ge({},e),{id:this.generateId()});return this.loadItems().pipe(j(1),Ie(a=>{this.itemsSubject.next([...a,p])}),S(()=>{}))}edit(e,p){return this.loadItems().pipe(j(1),Ie(a=>{let u=a.findIndex(h=>h.id===e);u!==-1&&(a[u]=ye(ge({},p),{id:e}),this.itemsSubject.next([...a]))}),S(()=>{}))}generateId(){return Math.random().toString(36).substring(2,10)}delete(e){return this.itemsSubject.pipe(j(1),S(p=>{if(!p)return;let a=p.filter(u=>u.id!==e);this.itemsSubject.next(a)}))}static \u0275fac=function(p){return new(p||t)(G(Ve))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var q=(()=>{class t{inventory;iconService;categoryToIconMap={Bearings:"bearing",Fasteners:"bolt",Filters:"filter",Pallets:"pallet",Packaging:"tape",Electronics:"battery",Safety:"gloves",Materials:"chain","Power Transmission":"sprocket",Seals:"o-ring",Lifting:"hoist"};constructor(e,p){this.inventory=e,this.iconService=p,this.inventory.getAll().subscribe(a=>{let h=Array.from(new Set(a.map(x=>x?.category).filter(Boolean))).map(x=>this.categoryToIconMap[x]).filter(x=>!!x);h.length&&this.iconService.registerIcons("Resources/Projects/Inventory/Icons",h)})}getIconName(e){return this.categoryToIconMap[e]}getAllCategories(){return this.inventory.getAll().pipe(S(e=>{let p=e.map(a=>a.category).filter(Boolean);return Array.from(new Set(p))}))}static \u0275fac=function(p){return new(p||t)(G(E),G(We))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yt(t,s){if(t&1&&v(0,"img",5),t&2){let e=_();d("src",e.imageUrl,Me)("alt",e.name)}}function It(t,s){if(t&1&&(r(0,"div",6)(1,"div",13)(2,"div",14),m(3),n(),r(4,"div",15),m(5),o(6,"translate"),n()()()),t&2){let e=_();i(3),c(e.sku),i(2),c(l(6,2,"inventory.detail.category."+e.category))}}function _t(t,s){if(t&1&&(r(0,"span"),m(1),o(2,"translate"),n()),t&2){let e=_();i(),qe(" \xB7 ",l(2,2,"inventory.detail.bin")," ",e.location.bin)}}function bt(t,s){if(t&1&&(Y(0),m(1),Q()),t&2){let e=_();i(),je(" ",e.dimensions.lengthMm," \xD7 ",e.dimensions.widthMm," \xD7 ",e.dimensions.heightMm," mm ")}}function ht(t,s){t&1&&(Y(0),m(1,"\u2014"),Q())}function xt(t,s){if(t&1&&(r(0,"div",8)(1,"span",9),m(2),o(3,"translate"),n(),r(4,"span",10),m(5),n()()),t&2){let e=_();i(2),c(l(3,2,"inventory.detail.lotNumber")),i(3),c(e.lotNumber)}}function Ct(t,s){if(t&1){let e=N();Y(0),r(1,"div",0)(2,"ui-thumbnail",1),I("close",function(){w(e);let a=_();return M(a.close())}),v(3,"ui-title",2),n(),r(4,"ui-card",3)(5,"div",4),D(6,yt,1,2,"img",5)(7,It,7,4,"div",6),n(),r(8,"div",7)(9,"div",8)(10,"span",9),m(11),o(12,"translate"),n(),r(13,"span",10),m(14),n()(),r(15,"div",8)(16,"span",9),m(17),o(18,"translate"),n(),r(19,"span",10),m(20),o(21,"translate"),o(22,"translate"),o(23,"translate"),g(24,_t,3,4,"span",11),n()(),r(25,"div",8)(26,"span",9),m(27),o(28,"translate"),n(),r(29,"span",12),m(30),n()(),v(31,"mat-divider"),r(32,"div",8)(33,"span",9),m(34),o(35,"translate"),n(),r(36,"span",10),m(37),n()(),r(38,"div",8)(39,"span",9),m(40),o(41,"translate"),n(),r(42,"span",10),g(43,bt,2,3,"ng-container",11)(44,ht,2,0,"ng-container",11),n()(),r(45,"div",8)(46,"span",9),m(47),o(48,"translate"),n(),r(49,"span",10),m(50),n()(),r(51,"div",8)(52,"span",9),m(53),o(54,"translate"),n(),r(55,"span",10),m(56),o(57,"date"),n()(),D(58,xt,6,4,"div",8),n()()(),Q()}if(t&2){let e=s;i(3),d("title",e.name)("subtitle",e.description),i(3),F(e.imageUrl?6:7),i(5),c(l(12,26,"inventory.detail.sku")),i(3),c(e.sku),i(3),c(l(18,28,"inventory.detail.location")),i(3),De(" ",e.location.warehouseId," \xB7 ",l(21,30,"inventory.detail.aisle")," ",e.location.aisle," \xB7 ",l(22,32,"inventory.detail.bay")," ",e.location.bay," \xB7 ",l(23,34,"inventory.detail.shelf")," ",e.location.shelf," "),i(4),d("ngIf",e.location.bin),i(3),c(l(28,36,"inventory.detail.quantity")),i(3),c(e.quantity),i(4),c(l(35,38,"inventory.detail.weight")),i(3),c(e.weightKg?e.weightKg+" kg":"\u2014"),i(3),c(l(41,40,"inventory.detail.dimensions")),i(3),d("ngIf",e.dimensions),i(),d("ngIf",!e.dimensions),i(3),c(l(48,42,"inventory.detail.supplier")),i(3),c(e.supplier||"\u2014"),i(3),c(l(54,44,"inventory.detail.received")),i(3),c(Fe(57,46,e.receivedDate,"mediumDate")),i(2),F(e.lotNumber?58:-1)}}function St(t,s){t&1&&(r(0,"div",16)(1,"ui-title",17),m(2),o(3,"translate"),n()()),t&2&&(i(2),c(l(3,1,"inventory.detail.itemNotFound")))}function Et(t,s){t&1&&g(0,St,4,3,"ng-template")}var ut=(()=>{class t{sidePanel;inventoryService;categoryIconService;item$;constructor(e,p,a){this.sidePanel=e,this.inventoryService=p,this.categoryIconService=a}ngOnInit(){this.item$=this.sidePanel.param("id").pipe(W(e=>this.inventoryService.getById(e)))}close(){this.sidePanel.close()}GetConvertedItemState(e){switch(e.status){case"available":return"success";case"reserved":return"warning";case"damaged":return"error";case"backordered":return"info";default:return}}static \u0275fac=function(p){return new(p||t)(y(O),y(E),y(q))};static \u0275cmp=k({type:t,selectors:[["app-inventory-detail"]],standalone:!1,decls:3,vars:3,consts:[[1,"inventory-detail"],[3,"close"],["size","Large",1,"title",3,"title","subtitle"],[1,"detail-card"],[1,"media-row"],[1,"detail-image",3,"src","alt"],[1,"detail-image","placeholder"],[1,"detail-section"],[1,"detail-row"],[1,"label"],[1,"value"],[4,"ngIf"],[1,"value","quantity"],[1,"placeholder-inner"],[1,"sku"],[1,"category"],[1,"inventory-detail","empty"],["size","Large"]],template:function(p,a){if(p&1&&(D(0,Ct,59,49,"ng-container"),o(1,"async"),Be(2,Et,1,0)),p&2){let u;F((u=l(1,1,a.item$))?0:2,u)}},dependencies:[A,$,T,R,Xe,B,Ne,P],styles:[".inventory-detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem;padding:1.25rem;background-color:var(--color-background)}.detail-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;border-radius:12px}.media-row[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-start}.detail-image[_ngcontent-%COMP%]{width:100%;min-height:140px;object-fit:cover;border-radius:var(--border-radius);background-color:var(--color-surface);margin-bottom:1rem}.placeholder[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:600}.placeholder-inner[_ngcontent-%COMP%]{text-align:center}.sku[_ngcontent-%COMP%]{font-size:.95rem;opacity:.9}.category[_ngcontent-%COMP%]{font-size:.8rem}.summary[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}.name[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:700}.desc[_ngcontent-%COMP%]{margin-top:.4rem;font-size:.95rem}.meta[_ngcontent-%COMP%]{margin-top:.65rem;display:flex;gap:.5rem;align-items:center}.chip[_ngcontent-%COMP%]{padding:.25rem .6rem;border-radius:999px;font-weight:600;font-size:.8rem}.status[_ngcontent-%COMP%]{padding:.18rem .5rem;border-radius:6px;font-size:.78rem;text-transform:capitalize}.detail-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:.6rem}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.45rem 0;border-bottom:1px dashed rgba(16,26,43,.04)}.label[_ngcontent-%COMP%]{font-weight:600}.value[_ngcontent-%COMP%]{text-align:right;max-width:60%;word-break:break-word}.quantity[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:1.05rem}@media (max-width: 720px){.media-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.detail-image[_ngcontent-%COMP%]{width:100%;height:180px}.value[_ngcontent-%COMP%]{max-width:100%;text-align:left}}"]})}return t})();var C=(function(t){return t.Available="available",t.Reserved="reserved",t.Damaged="damaged",t.Backordered="backordered",t})(C||{});function wt(t,s){if(t&1){let e=N();r(0,"ui-hotpick",2),o(1,"async"),o(2,"translate"),I("click",function(){let a=w(e).$implicit,u=_(2);return M(u.filter(a))}),v(3,"ui-state",9),m(4),o(5,"async"),n()}if(t&2){let e=s.$implicit,p=_(2);d("active",l(1,6,p.selectedState$.asObservable())===e)("label",l(2,8,"Inventory.filter."+e)),i(3),d("circle",!0)("state",p.convertStatusToState(e))("stateOnly",!0),i(),f(" ",l(5,10,p.getAmount(e))," ")}}function Mt(t,s){if(t&1&&(r(0,"div"),m(1),o(2,"translate"),n()),t&2){let e=s.$implicit;i(),f(" ",l(2,1,"Inventory.Statuses."+e.status)," ")}}function kt(t,s){if(t&1&&(r(0,"div"),m(1),o(2,"translate"),n()),t&2){let e=s.$implicit;i(),f(" ",l(2,1,"Inventory.Categories."+e.category)," ")}}function Bt(t,s){if(t&1){let e=N();r(0,"div",10)(1,"ui-button",11),I("click",function(){let a=w(e).$implicit,u=_(2);return M(u.Edit(a.id))}),m(2),o(3,"translate"),n(),r(4,"ui-button",12),I("click",function(){let a=w(e).$implicit,u=_(2);return M(u.deleteItem(a.id))}),m(5),o(6,"translate"),n()()}t&2&&(i(2),f(" ",l(3,2,"Inventory.actions.edit")," "),i(3),f(" ",l(6,4,"Inventory.actions.delete")," "))}function Pt(t,s){if(t&1){let e=N();r(0,"ui-table",1),I("selectedElementsChanges",function(a){w(e);let u=_();return M(u.openDetail(a[0].id))}),r(1,"ui-hotpick",2),o(2,"async"),o(3,"translate"),I("click",function(){w(e);let a=_();return M(a.filter("All"))}),v(4,"ui-state",3),m(5),o(6,"async"),n(),Te(7,wt,6,12,"ui-hotpick",4,Pe),r(9,"ui-hotpick",5)(10,"ui-button",6),I("click",function(){w(e);let a=_();return M(a.Create())}),m(11),o(12,"translate"),n()(),g(13,Mt,3,3,"div",7)(14,kt,3,3,"div",7)(15,Bt,7,6,"ng-template",8),n()}if(t&2){let e=_();d("structure",e.columns)("elements",s)("enableHotPick",!0),i(),d("active",l(2,12,e.selectedState$.asObservable())==="All")("label",l(3,14,"Inventory.filter.all")),i(3),d("circle",!0)("stateOnly",!0),i(),f(" ",l(6,16,e.getAmount("All"))),i(2),Oe(e.statuses),i(2),d("hasLabel",!1),i(2),c(l(12,18,"Inventory.actions.create")),i(2),d("UiOverrideColumn","status"),i(),d("UiOverrideColumn","category")}}var vt=(()=>{class t{sidePanel;inventoryService;_translateService;columns;statuses=Object.values(C);allItem$;selectedState$=new K("All");filteredItem$;constructor(e,p,a){this.sidePanel=e,this.inventoryService=p,this._translateService=a,this.allItem$=this.inventoryService.getAll(),this.filteredItem$=Ce([this.allItem$,this.selectedState$]).pipe(S(([u,h])=>h==="All"?u:u.filter(x=>x.status===h))),this.columns=[{field:"id",header:"ID",sortable:!0,filterable:!0,visible:!1},{field:"name",header:a.instant("Inventory.item.name"),sortable:!0,filterable:!0,visible:!0},{field:"sku",header:"SKU",sortable:!0,filterable:!0},{field:"quantity",header:a.instant("Inventory.item.quantity"),sortable:!0,filterable:!0},{field:"status",header:a.instant("Inventory.item.status"),sortable:!0,filterable:!0},{field:"category",header:a.instant("Inventory.item.category"),sortable:!0,filterable:!0}]}openDetail(e){this.sidePanel.open("inventory-detail",{id:e})}Create(){this.sidePanel.open("inventory-create")}Edit(e){this.sidePanel.open("inventory-edit",{id:e})}deleteItem(e){this.inventoryService.delete(e).subscribe(()=>{this.sidePanel.param("id").pipe(j(1)).subscribe(p=>{p===e&&this.sidePanel.close()})})}filter(e){this.selectedState$.next(e)}getAmount(e){return this.allItem$.pipe(S(p=>e==="All"?p.length:p.filter(a=>a.status===e).length))}convertStatusToState(e){switch(e){case C.Available:return"success";case C.Backordered:return"info";case C.Damaged:return"error";case C.Reserved:return"warning"}}static \u0275fac=function(p){return new(p||t)(y(O),y(E),y(Re))};static \u0275cmp=k({type:t,selectors:[["app-inventory-page"]],standalone:!1,decls:6,vars:6,consts:[["key","id","selectionMode","Clickable",3,"structure","elements","enableHotPick"],["key","id","selectionMode","Clickable",3,"selectedElementsChanges","structure","elements","enableHotPick"],[3,"click","active","label"],["state","primary","size","Small",3,"circle","stateOnly"],[3,"active","label"],["select","action",3,"hasLabel"],["matButton","filled",1,"create-button",3,"click"],[4,"UiOverrideColumn"],["UiActions","",1,"row-actions"],["size","Small",3,"circle","state","stateOnly"],[1,"menu-buttons"],["mat-menu-item","","icon","edit",3,"click"],["mat-menu-item","","icon","delete",3,"click"]],template:function(p,a){if(p&1&&(r(0,"web-page")(1,"ui-title"),m(2),o(3,"translate"),n(),D(4,Pt,16,20,"ui-table",0),o(5,"async"),n()),p&2){let u;i(2),c(l(3,2,"Inventory.Title")),i(2),F((u=l(5,4,a.filteredItem$))?4:-1,u)}},dependencies:[pt,T,V,rt,tt,it,nt,ct,B,P],styles:[".create-button[_ngcontent-%COMP%]{margin-right:8px}.row-actions[_ngcontent-%COMP%]{background-color:var(--color-background);color:var(--color-on-background)}.menu-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;background-color:var(--color-background);color:var(--color-on-background)}"]})}return t})();function Dt(t,s){t&1&&(r(0,"mat-error"),m(1),o(2,"translate"),n()),t&2&&(i(),f(" ",l(2,1,"Inventory.item.nameRequired")," "))}function Ft(t,s){t&1&&(r(0,"mat-error"),m(1),o(2,"translate"),n()),t&2&&(i(),f(" ",l(2,1,"Inventory.item.skuRequired")," "))}function Nt(t,s){t&1&&(r(0,"mat-error"),m(1),o(2,"translate"),n()),t&2&&(i(),f(" ",l(2,1,"Inventory.item.quantityRequired")," "))}function At(t,s){if(t&1&&(r(0,"mat-option",21),m(1),o(2,"translate"),n()),t&2){let e=s.$implicit;d("value",e),i(),f(" ",l(2,2,"Inventory.Categories."+e)," ")}}function Vt(t,s){t&1&&(r(0,"mat-error"),m(1),o(2,"translate"),n()),t&2&&(i(),f(" ",l(2,1,"Inventory.item.categoryRequired")," "))}function $t(t,s){t&1&&(r(0,"mat-error"),m(1),o(2,"translate"),n()),t&2&&(i(),f(" ",l(2,1,"Inventory.item.warehouseIdRequired")," "))}function Rt(t,s){if(t&1&&(r(0,"mat-option",21),m(1),o(2,"translate"),n()),t&2){let e=s.$implicit;d("value",e),i(),f(" ",l(2,2,"Inventory.Statuses."+e)," ")}}function zt(t,s){t&1&&(r(0,"mat-error"),m(1),o(2,"translate"),n()),t&2&&(i(),f(" ",l(2,1,"Inventory.item.statusRequired")," "))}var ft=(()=>{class t{fb;sidePanel;inventoryService;categoryIconService;form;statuses=Object.values(C);constructor(e,p,a,u){this.fb=e,this.sidePanel=p,this.inventoryService=a,this.categoryIconService=u}ngOnInit(){this.form=this.fb.group({name:["",b.required],description:[""],sku:["",b.required],quantity:[0,b.required],category:["",b.required],location:this.fb.group({warehouseId:["",b.required],aisle:[""],bay:[""],shelf:[""],bin:[""]}),status:[C.Available,b.required],weightKg:[""],dimensions:this.fb.group({lengthMm:[""],widthMm:[""],heightMm:[""]}),supplier:[""],receivedDate:[""],lotNumber:[""]})}get warehouseId(){return this.form.get("location.warehouseId")}get aisle(){return this.form.get("location.aisle")}get bay(){return this.form.get("location.bay")}get shelf(){return this.form.get("location.shelf")}get bin(){return this.form.get("location.bin")}get lengthMm(){return this.form.get("dimensions.lengthMm")}get widthMm(){return this.form.get("dimensions.widthMm")}get heightMm(){return this.form.get("dimensions.heightMm")}save(){if(this.form.valid){let e=this.form.value;this.inventoryService.create(e).subscribe(()=>{this.close()})}}close(){this.sidePanel.close()}static \u0275fac=function(p){return new(p||t)(y(de),y(O),y(E),y(q))};static \u0275cmp=k({type:t,selectors:[["app-inventory-create"]],standalone:!1,decls:85,vars:62,consts:[[1,"edit-card"],[3,"close"],["size","Large",1,"title",3,"title","subtitle"],[3,"ngSubmit","formGroup"],[1,"detail-row"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name"],[4,"ngIf"],["matInput","","formControlName","description"],["matInput","","formControlName","sku"],["matInput","","type","number","formControlName","quantity"],["formControlName","category"],[3,"value",4,"ngFor","ngForOf"],[1,"detail-row","location-group"],[1,"label"],[1,"location-row"],["appearance","outline",1,"location-field","warehouse"],["matInput","",3,"formControl"],["appearance","outline",1,"location-field","small"],["formControlName","status"],["color","primary","matButton","filled","type","submit",3,"disabled"],[3,"value"]],template:function(p,a){if(p&1&&(r(0,"ui-card",0)(1,"ui-thumbnail",1),I("close",function(){return a.close()}),v(2,"ui-title",2),o(3,"translate"),o(4,"translate"),n(),r(5,"form",3),I("ngSubmit",function(){return a.save()}),r(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),m(9),o(10,"translate"),n(),v(11,"input",6),g(12,Dt,3,3,"mat-error",7),n()(),r(13,"div",4)(14,"mat-form-field",5)(15,"mat-label"),m(16),o(17,"translate"),n(),v(18,"textarea",8),n()(),r(19,"div",4)(20,"mat-form-field",5)(21,"mat-label"),m(22),o(23,"translate"),n(),v(24,"input",9),g(25,Ft,3,3,"mat-error",7),n()(),r(26,"div",4)(27,"mat-form-field",5)(28,"mat-label"),m(29),o(30,"translate"),n(),v(31,"input",10),g(32,Nt,3,3,"mat-error",7),n()(),r(33,"div",4)(34,"mat-form-field",5)(35,"mat-label"),m(36),o(37,"translate"),n(),r(38,"mat-select",11),g(39,At,3,4,"mat-option",12),o(40,"async"),n(),g(41,Vt,3,3,"mat-error",7),n()(),r(42,"div",13)(43,"mat-label",14),m(44),o(45,"translate"),n(),r(46,"div",15)(47,"mat-form-field",16)(48,"mat-label"),m(49),o(50,"translate"),n(),v(51,"input",17),g(52,$t,3,3,"mat-error",7),n(),r(53,"mat-form-field",18)(54,"mat-label"),m(55),o(56,"translate"),n(),v(57,"input",17),n(),r(58,"mat-form-field",18)(59,"mat-label"),m(60),o(61,"translate"),n(),v(62,"input",17),n(),r(63,"mat-form-field",18)(64,"mat-label"),m(65),o(66,"translate"),n(),v(67,"input",17),n(),r(68,"mat-form-field",18)(69,"mat-label"),m(70),o(71,"translate"),n(),v(72,"input",17),n()()(),r(73,"div",4)(74,"mat-form-field",5)(75,"mat-label"),m(76),o(77,"translate"),n(),r(78,"mat-select",19),g(79,Rt,3,4,"mat-option",12),n(),g(80,zt,3,3,"mat-error",7),n()(),r(81,"ui-card-footer")(82,"ui-button",20),m(83),o(84,"translate"),n()()()()),p&2){let u,h,x,U,L;i(2),d("title",l(3,30,"Inventory.create.title"))("subtitle",l(4,32,"Inventory.create.subtitle")),i(3),d("formGroup",a.form),i(4),c(l(10,34,"Inventory.item.name")),i(3),d("ngIf",(u=a.form.get("name"))==null?null:u.hasError("required")),i(4),c(l(17,36,"Inventory.item.description")),i(6),c(l(23,38,"Inventory.item.sku")),i(3),d("ngIf",(h=a.form.get("sku"))==null?null:h.hasError("required")),i(4),c(l(30,40,"Inventory.item.quantity")),i(3),d("ngIf",(x=a.form.get("quantity"))==null?null:x.hasError("required")),i(4),c(l(37,42,"Inventory.item.category")),i(3),d("ngForOf",l(40,44,a.categoryIconService.getAllCategories())),i(2),d("ngIf",(U=a.form.get("category"))==null?null:U.hasError("required")),i(3),c(l(45,46,"Inventory.item.location")),i(5),c(l(50,48,"Inventory.item.warehouseId")),i(2),d("formControl",a.warehouseId),i(),d("ngIf",a.warehouseId==null?null:a.warehouseId.hasError("required")),i(3),c(l(56,50,"Inventory.item.aisle")),i(2),d("formControl",a.aisle),i(3),c(l(61,52,"Inventory.item.bay")),i(2),d("formControl",a.bay),i(3),c(l(66,54,"Inventory.item.shelf")),i(2),d("formControl",a.shelf),i(3),c(l(71,56,"Inventory.item.bin")),i(2),d("formControl",a.bin),i(4),c(l(77,58,"Inventory.item.status")),i(3),d("ngForOf",a.statuses),i(),d("ngIf",(L=a.form.get("status"))==null?null:L.hasError("required")),i(2),d("disabled",a.form.invalid),i(),f(" ",l(84,60,"Inventory.create.create")," ")}},dependencies:[X,A,$,ve,T,V,R,te,Z,ee,se,ce,ae,ie,oe,ne,re,le,me,pe,ue,B,P],styles:[".edit-card[_ngcontent-%COMP%]{margin:auto;background-color:var(--color-background);color:var(--color-on-background)}.detail-row[_ngcontent-%COMP%]{padding:.5rem 0}.detail-row[_ngcontent-%COMP%]:first-child{padding-top:1rem}.full-width[_ngcontent-%COMP%]{width:100%}.location-group[_ngcontent-%COMP%]   .location-row[_ngcontent-%COMP%]{margin-top:15px;display:grid;grid-template-columns:repeat(2,1fr);gap:5px 12px}.location-field[_ngcontent-%COMP%]{min-width:0}.location-field.warehouse[_ngcontent-%COMP%]{grid-column:span 2}  .mat-mdc-raised-button.mat-primary{background-color:var(--color-primary)!important;color:var(--color-on-primary)!important}  .mat-mdc-raised-button.mat-primary:hover{background-color:var(--color-primary-hover)!important}  .mat-mdc-text-field-wrapper{background-color:var(--color-background)!important;color:var(--color-on-background)!important;border-color:var(--color-surface)!important}  .mat-mdc-input-element{color:var(--color-on-background)!important}  .mdc-floating-label{color:var(--color-on-background)!important;opacity:.7}  .mat-mdc-select-trigger{color:var(--color-on-background)!important}  .mat-mdc-select-panel{background-color:var(--color-background)!important;color:var(--color-on-background)!important}  .mat-mdc-option{color:var(--color-on-background)!important}  .mat-mdc-option:hover{background-color:var(--color-primary-hover)!important;color:var(--color-background)!important}  .mat-mdc-option.mdc-list-item--selected{background-color:var(--color-primary)!important;color:var(--color-background)!important}  .mat-mdc-form-field-wrapper .mat-mdc-form-field-flex{margin-bottom:4px}  .mat-error{font-size:12px;margin-top:2px;display:block}"]})}return t})();function Ut(t,s){t&1&&(r(0,"mat-error"),m(1),o(2,"translate"),n()),t&2&&(i(),f(" ",l(2,1,"Inventory.item.nameRequired")," "))}function Lt(t,s){t&1&&(r(0,"mat-error"),m(1),o(2,"translate"),n()),t&2&&(i(),f(" ",l(2,1,"Inventory.item.skuRequired")," "))}function Gt(t,s){t&1&&(r(0,"mat-error"),m(1),o(2,"translate"),n()),t&2&&(i(),f(" ",l(2,1,"Inventory.item.quantityRequired")," "))}function Ht(t,s){if(t&1&&(r(0,"mat-option",22),m(1),o(2,"translate"),n()),t&2){let e=s.$implicit;d("value",e),i(),f(" ",l(2,2,"Inventory.Categories."+e)," ")}}function Kt(t,s){t&1&&(r(0,"mat-error"),m(1),o(2,"translate"),n()),t&2&&(i(),f(" ",l(2,1,"Inventory.item.categoryRequired")," "))}function Wt(t,s){t&1&&(r(0,"mat-error"),m(1),o(2,"translate"),n()),t&2&&(i(),f(" ",l(2,1,"Inventory.item.warehouseIdRequired")," "))}function Jt(t,s){if(t&1&&(r(0,"mat-option",22),m(1),o(2,"translate"),n()),t&2){let e=s.$implicit;d("value",e),i(),f(" ",l(2,2,"Inventory.Statuses."+e)," ")}}function Yt(t,s){t&1&&(r(0,"mat-error"),m(1),o(2,"translate"),n()),t&2&&(i(),f(" ",l(2,1,"Inventory.item.statusRequired")," "))}var gt=(()=>{class t{fb;sidePanel;inventoryService;categoryIconService;form;statuses=Object.values(C);currentId;constructor(e,p,a,u){this.fb=e,this.sidePanel=p,this.inventoryService=a,this.categoryIconService=u}ngOnInit(){this.form=this.fb.group({name:["",b.required],description:[""],sku:["",b.required],quantity:[0,b.required],category:["",b.required],location:this.fb.group({warehouseId:["",b.required],aisle:[""],bay:[""],shelf:[""],bin:[""]}),status:[C.Available,b.required],weightKg:[""],dimensions:this.fb.group({lengthMm:[""],widthMm:[""],heightMm:[""]}),supplier:[""],receivedDate:[""],lotNumber:[""]}),this.sidePanel.param("id").pipe(Se(),W(e=>(this.currentId=e,this.inventoryService.getById(e)))).subscribe(e=>{e&&this.form.patchValue(e)})}get warehouseId(){return this.form.get("location.warehouseId")}get aisle(){return this.form.get("location.aisle")}get bay(){return this.form.get("location.bay")}get shelf(){return this.form.get("location.shelf")}get bin(){return this.form.get("location.bin")}get lengthMm(){return this.form.get("dimensions.lengthMm")}get widthMm(){return this.form.get("dimensions.widthMm")}get heightMm(){return this.form.get("dimensions.heightMm")}save(){if(this.form.valid&&this.currentId){let e=this.form.value;this.inventoryService.edit(this.currentId,e).subscribe(()=>this.close())}}close(){this.sidePanel.close()}static \u0275fac=function(p){return new(p||t)(y(de),y(O),y(E),y(q))};static \u0275cmp=k({type:t,selectors:[["app-inventory-edit"]],standalone:!1,decls:88,vars:65,consts:[[1,"edit-card"],[3,"close"],["size","Large",1,"title",3,"title","subtitle"],[3,"ngSubmit","formGroup"],[1,"detail-row"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name"],[4,"ngIf"],["matInput","","formControlName","description"],["matInput","","formControlName","sku"],["matInput","","type","number","formControlName","quantity"],["formControlName","category"],[3,"value",4,"ngFor","ngForOf"],[1,"detail-row","location-group"],[1,"label"],[1,"location-row"],["appearance","outline",1,"location-field","warehouse"],["matInput","",3,"formControl"],["appearance","outline",1,"location-field","small"],["formControlName","status"],["color","primary","mat-button","","type","submit",3,"disabled"],["color","primary","matButton","filled","type","button",3,"click"],[3,"value"]],template:function(p,a){if(p&1&&(r(0,"ui-card",0)(1,"ui-thumbnail",1),I("close",function(){return a.close()}),v(2,"ui-title",2),o(3,"translate"),o(4,"translate"),n(),r(5,"form",3),I("ngSubmit",function(){return a.save()}),r(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),m(9),o(10,"translate"),n(),v(11,"input",6),g(12,Ut,3,3,"mat-error",7),n()(),r(13,"div",4)(14,"mat-form-field",5)(15,"mat-label"),m(16),o(17,"translate"),n(),v(18,"textarea",8),n()(),r(19,"div",4)(20,"mat-form-field",5)(21,"mat-label"),m(22),o(23,"translate"),n(),v(24,"input",9),g(25,Lt,3,3,"mat-error",7),n()(),r(26,"div",4)(27,"mat-form-field",5)(28,"mat-label"),m(29),o(30,"translate"),n(),v(31,"input",10),g(32,Gt,3,3,"mat-error",7),n()(),r(33,"div",4)(34,"mat-form-field",5)(35,"mat-label"),m(36),o(37,"translate"),n(),r(38,"mat-select",11),g(39,Ht,3,4,"mat-option",12),o(40,"async"),n(),g(41,Kt,3,3,"mat-error",7),n()(),r(42,"div",13)(43,"mat-label",14),m(44),o(45,"translate"),n(),r(46,"div",15)(47,"mat-form-field",16)(48,"mat-label"),m(49),o(50,"translate"),n(),v(51,"input",17),g(52,Wt,3,3,"mat-error",7),n(),r(53,"mat-form-field",18)(54,"mat-label"),m(55),o(56,"translate"),n(),v(57,"input",17),n(),r(58,"mat-form-field",18)(59,"mat-label"),m(60),o(61,"translate"),n(),v(62,"input",17),n(),r(63,"mat-form-field",18)(64,"mat-label"),m(65),o(66,"translate"),n(),v(67,"input",17),n(),r(68,"mat-form-field",18)(69,"mat-label"),m(70),o(71,"translate"),n(),v(72,"input",17),n()()(),r(73,"div",4)(74,"mat-form-field",5)(75,"mat-label"),m(76),o(77,"translate"),n(),r(78,"mat-select",19),g(79,Jt,3,4,"mat-option",12),n(),g(80,Yt,3,3,"mat-error",7),n()(),r(81,"ui-card-footer")(82,"ui-button",20),m(83),o(84,"translate"),n(),r(85,"ui-button",21),I("click",function(){return a.close()}),m(86),o(87,"translate"),n()()()()),p&2){let u,h,x,U,L;i(2),d("title",l(3,31,"Inventory.edit.title"))("subtitle",l(4,33,"Inventory.edit.subtitle")),i(3),d("formGroup",a.form),i(4),c(l(10,35,"Inventory.item.name")),i(3),d("ngIf",(u=a.form.get("name"))==null?null:u.hasError("required")),i(4),c(l(17,37,"Inventory.item.description")),i(6),c(l(23,39,"Inventory.item.sku")),i(3),d("ngIf",(h=a.form.get("sku"))==null?null:h.hasError("required")),i(4),c(l(30,41,"Inventory.item.quantity")),i(3),d("ngIf",(x=a.form.get("quantity"))==null?null:x.hasError("required")),i(4),c(l(37,43,"Inventory.item.category")),i(3),d("ngForOf",l(40,45,a.categoryIconService.getAllCategories())),i(2),d("ngIf",(U=a.form.get("category"))==null?null:U.hasError("required")),i(3),c(l(45,47,"Inventory.item.location")),i(5),c(l(50,49,"Inventory.item.warehouseId")),i(2),d("formControl",a.warehouseId),i(),d("ngIf",a.warehouseId==null?null:a.warehouseId.hasError("required")),i(3),c(l(56,51,"Inventory.item.aisle")),i(2),d("formControl",a.aisle),i(3),c(l(61,53,"Inventory.item.bay")),i(2),d("formControl",a.bay),i(3),c(l(66,55,"Inventory.item.shelf")),i(2),d("formControl",a.shelf),i(3),c(l(71,57,"Inventory.item.bin")),i(2),d("formControl",a.bin),i(4),c(l(77,59,"Inventory.item.status")),i(3),d("ngForOf",a.statuses),i(),d("ngIf",(L=a.form.get("status"))==null?null:L.hasError("required")),i(2),d("disabled",a.form.invalid),i(),f(" ",l(84,61,"Inventory.edit.save")," "),i(3),f(" ",l(87,63,"Inventory.edit.cancel")," ")}},dependencies:[X,A,$,ve,T,V,R,te,Z,ee,se,ce,ae,ie,oe,ne,re,le,me,pe,ue,B,P],styles:[".edit-card[_ngcontent-%COMP%]{margin:auto;background-color:var(--color-background);color:var(--color-on-background)}.detail-row[_ngcontent-%COMP%]{padding:.5rem 0}.detail-row[_ngcontent-%COMP%]:first-child{padding-top:1rem}.full-width[_ngcontent-%COMP%]{width:100%}.location-group[_ngcontent-%COMP%]   .location-row[_ngcontent-%COMP%]{margin-top:15px;display:grid;grid-template-columns:repeat(2,1fr);gap:5px 12px}.location-field[_ngcontent-%COMP%]{min-width:0}.location-field.warehouse[_ngcontent-%COMP%]{grid-column:span 2}  .mat-mdc-raised-button.mat-primary{background-color:var(--color-primary)!important;color:var(--color-on-primary)!important}  .mat-mdc-raised-button.mat-primary:hover{background-color:var(--color-primary-hover)!important}  .mat-mdc-text-field-wrapper{background-color:var(--color-background)!important;color:var(--color-on-background)!important;border-color:var(--color-surface)!important}  .mat-mdc-input-element{color:var(--color-on-background)!important}  .mdc-floating-label{color:var(--color-on-background)!important;opacity:.7}  .mat-mdc-select-trigger{color:var(--color-on-background)!important}  .mat-mdc-select-panel{background-color:var(--color-background)!important;color:var(--color-on-background)!important}  .mat-mdc-option{color:var(--color-on-background)!important}  .mat-mdc-option:hover{background-color:var(--color-primary-hover)!important;color:var(--color-background)!important}  .mat-mdc-option.mdc-list-item--selected{background-color:var(--color-primary)!important;color:var(--color-background)!important}  .mat-mdc-form-field-wrapper .mat-mdc-form-field-flex{margin-bottom:4px}  .mat-error{font-size:12px;margin-top:2px;display:block}"]})}return t})();var Qt=[{path:"",component:vt}],Ti=(()=>{class t{static \u0275fac=function(p){return new(p||t)};static \u0275mod=ke({type:t});static \u0275inj=we({providers:[{provide:lt,useValue:{"inventory-detail":ut,"inventory-create":ft,"inventory-edit":gt}},q],imports:[Ae,dt,$e.forChild(Qt),et,Qe,Ye,ot,mt,Ze,at,Je,st,Ge,Ue,Le,ze,Ke,He]})}return t})();export{Ti as a};
